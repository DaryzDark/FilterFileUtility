# FileFilterUtility

Утилита для фильтрации содержимого файлов по типам данных (целые числа, вещественные числа, строки).

## Описание

FileFilterUtility — это консольная утилита на Java, которая позволяет разделять содержимое входных файлов по типам данных и записывать их в отдельные выходные файлы. Программа также собирает и выводит статистику по каждому типу данных.

## Требования

- Java 21 или выше
- Gradle 8.11 или выше (или использовать встроенный Gradle Wrapper)
- Кодировка входных файлов: ```UTF-8```

## Зависимости

| Библиотеки и плагины | Версия | Назначение | Ссылка |
|----------------------|--|------------|--------|
| picocli              | 4.7.7 | Обработка аргументов командной строки | [Maven Central](https://mvnrepository.com/artifact/info.picocli/picocli/4.7.7) |
| JUnit 5              | 5.10.0 | Тестирование | [Maven Central](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.10.0) |
| AssertJ              | 4.0.0-M1 | Assertions для тестов | [Maven Central](https://mvnrepository.com/artifact/org.assertj/assertj-core/4.0.0-M1) |
| Shadow               | 9.0.0-rc3 | Создание fat JAR | [GitHub](https://github.com/johnrengelman/shadow) |

## Сборка проекта и запуск 

Можно скачать ```uberjar``` со всеми зависимостями со страницы [Releases](https://github.com/DaryzDark/FilterFileUtility/releases).
Альтернативно можно собрать проект из исходников

### С использованием Gradle Wrapper

```shell script
# Linux/macOS
./gradlew build

# Windows
.\gradlew.bat build
```


### С использованием локально установленного Gradle

```shell script
gradle build
```


Результатом сборки будет исполняемый JAR-файл в директории `build/libs/filter-util-1.0.0.jar`.


## Запуск

```shell script
java -jar filter-util-1.0.0.jar [параметры] файл1 [файл2 ...]
```


### Параметры командной строки

| Параметр | Описание |
|----------|----------|
| `-o, --output <путь>` | Путь для сохранения результатов (по умолчанию: текущая директория) |
| `-p, --prefix <префикс>` | Префикс для имен выходных файлов |
| `-a, --append` | Режим добавления к существующим файлам (по умолчанию: перезапись) |
| `-s, --short` | Вывод краткой статистики |
| `-f, --full` | Вывод полной статистики |
| `-h, --help` | Вывод справки по использованию |
| `-V, --version` | Вывод информации о версии |

### Примеры использования

1. Обработка одного файла с выводом краткой статистики:
```shell script
java -jar filter-util-1.0.0.jar -s input.txt
```


2. Обработка нескольких файлов с сохранением результатов в указанную директорию:
```shell script
java -jar filter-util-1.0.0.jar -o /path/to/output -f file1.txt file2.txt
```


3. Добавление к существующим файлам с указанием префикса:
```shell script
java -jar filter-util-1.0.0.jar -a -p result_ -s input.txt
```


## Формат выходных файлов

Кодировка: ```UTF-8```

Утилита создает следующие файлы (только если в исходных файлах есть данные соответствующего типа):

- `integers.txt` - целые числа
- `floats.txt` - вещественные числа
- `strings.txt` - строки

При указании префикса `-p prefix_` файлы будут иметь имена:
- `prefix_integers.txt`
- `prefix_floats.txt`
- `prefix_strings.txt`

## Статистика

### Краткая статистика (-s)

Включает количество элементов каждого типа.

### Полная статистика (-f)

Включает для чисел:
- Количество
- Минимальное значение
- Максимальное значение
- Сумму
- Среднее арифметическое

Для строк:
- Количество
- Минимальную длину
- Максимальную длину
